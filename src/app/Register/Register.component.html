<div class="py-5">

  <section class="container register w-75 mx-auto  ">

    <form class="p-5 p-xs-0 row" (ngSubmit)="handelRegistration(registerform)" [formGroup]="registerform">
      <h2 class="text-main p-3">Register Now :</h2>

    <p *ngIf="ApiErrorMessage" class="alert alert-danger text-center ">{{ApiErrorMessage}}</p>

      <div class="col-md-12">
        <label for="username">name:</label>
      <input formControlName="name" id="username" class="form-control" type="text">
      <div *ngIf="registerform.get('name')?.invalid && registerform.get('name')?.touched" class="text-danger fw-bold mt-1">
        <p *ngIf="registerform.get('name')?.getError('required')" class="my-0">name is Reguierd</p >
        <p *ngIf="registerform.get('name')?.getError('minlength')" class="my-0">name minimum length is 3 </p >
        <p *ngIf="registerform.get('name')?.getError('maxlength')" class="my-0">name maxmum length is 20  </p>
      </div>
      </div>

     <div class="col-md-12">
      <label class="mt-1" for="email">email:</label>
      <input formControlName="email" id="email" class="form-control" type="email">
      <div *ngIf="registerform.get('email')?.invalid && registerform.get('email')?.touched" class="text-danger fw-bold mt-1">
        <p *ngIf="registerform.get('email')?.getError('required')" class="my-0">email is Reguierd</p >
        <p *ngIf="registerform.get('email')?.getError('email')" class="my-0">please enter a valid email</p >
      </div>
     </div>

     <div class="col-md-12">
      <label class="mt-1" for="password">password:</label>
      <input formControlName="password" id="password" class="form-control" type="password">
      <div *ngIf="registerform.get('password')?.invalid && registerform.get('password')?.touched" class="text-danger fw-bold mt-1">
        <p *ngIf="registerform.get('password')?.getError('required')" class="my-0">password is Reguierd</p >
        <p *ngIf="registerform.get('password')?.getError('pattern')" class="my-0 p-0 font-sm">password must start with uppercase followed by at least 5 characters </p>
      </div>
     </div>


     <div class="col-md-12">
      <label class="mt-1" for="rePassword">rePassword:</label>
      <input formControlName="rePassword" id="rePassword" class="form-control" type="password" >
      <div *ngIf="registerform.get('rePassword')?.invalid && registerform.get('rePassword')?.touched" class="text-danger fw-bold mt-1">
        <p *ngIf="registerform.get('rePassword')?.getError('required')" class="my-0">rePassword is Reguierd</p >
        <p *ngIf="registerform.get('rePassword')?.getError('pattern')" class="my-0">rePassword must start with uppercase followed by at least 5 characters </p>
      </div>
      <p *ngIf="registerform.getError('passwordMissmatch') && registerform.get('password')?.dirty&& registerform.get('rePassword')?.dirty" class="text-danger fw-bold">password dont match conforim password </p>
     </div>

     <div class="col-md-12">
      <label class="mt-1" for="phone">phone:</label>
      <input formControlName="phone" id="phone" class="form-control" type="tel">
      <div *ngIf="registerform.get('phone')?.invalid && registerform.get('phone')?.touched" class="text-danger fw-bold mt-1" >
        <p *ngIf="registerform.get('phone')?.getError('required')" class="my-0">phone is Reguierd</p >
        <p *ngIf="registerform.get('phone')?.getError('pattern')" class="my-0"> pleas enter a valid egyption phone number  </p >
      </div>
     </div>

     <div class="col-md-12">
      <button [disabled]="registerform.invalid || isLoding" class= "  mt-2  btn bg-main text-white d-block ms-auto">
        <span *ngIf="!isLoding">Register</span>
        <span *ngIf="isLoding" class="fa-solid fa-spinner fa-spin"></span>
      </button>
     </div>


    </form>

  </section>

</div>
